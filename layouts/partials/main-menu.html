<div id="main-menu" class="main-menu">
  <ul>
    {{ $currentPage := . }}
    {{ range .Site.Menus.main }}
      {{- if not .HasChildren }}
        <!-- Menu item without children -->
        <li class="menu-item {{ if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }}active{{ end }}">
          <a href="{{ .URL | relLangURL }}">
            <span>{{ .Name }}</span>
          </a>
        </li>
      {{- else }}
        <!-- Menu item with children -->
        <li class="menu-item has-submenu {{ if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }}active{{ end }}">
          <a href="#" class="submenu-toggle" tabindex="0">
            <span>{{ .Name }}</span>
            <span class="arrow">â–¼</span>
          </a>
          <ul class="sub-menu">
            {{ range .Children }}
              <li class="sub-menu-item {{ if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }}active{{ end }}">
                <a href="{{ .URL | relLangURL }}">
                  <span>{{ .Name }}</span>
                </a>
              </li>
            {{ end }}
          </ul>
        </li>
      {{- end }}
    {{ end }}
  </ul>
</div>
